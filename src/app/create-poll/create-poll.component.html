<div class="container">
  <h1>Vytvořit anketu zdarma</h1>

  <section class="seo-content">
    <h2>Online anketa a dotazník</h2>
    <p>
      Vytvořte si vlastní online anketu zdarma, rychlý dotazník nebo hlasování.
    </p>
  </section>

  <div class="question-card" *ngFor="let q of questions; let qi = index; trackBy: trackByIndex">
    <div class="question-header">
      <label>Otázka {{ qi + 1 }}:</label>
      <button class="remove-question-btn small" (click)="removeQuestion(qi)">×</button>
    </div>

    <input type="text" [(ngModel)]="q.text" placeholder="Zadejte text otázky" required />

    <h3>Možnosti odpovědí</h3>
    <div class="option-row" *ngFor="let opt of q.options; let oi = index; trackBy: trackByIndex">
      <input type="text" [(ngModel)]="q.options[oi]" placeholder="Možnost odpovědi" required />
      <button class="remove-btn" (click)="removeOption(qi, oi)">×</button>
    </div>

    <button class="add-option-btn" (click)="addOption(qi)">+ Přidat možnost</button>

    <label class="multi-answer">
      <input type="checkbox" [(ngModel)]="q.allowMultiple" />
      Povolit více odpovědí
    </label>
  </div>

  <button class="add-question-btn" (click)="addQuestion()">+ Přidat otázku</button>

  <!-- Odeslání ankety -->
  <button class="submit-btn" (click)="createPoll()">
    Vytvořit anketu
  </button>

  <!-- ❗Zde se zobrazí hláška až po kliknutí -->
  <div *ngIf="errorMessage" class="error-message">
    {{ errorMessage }}
  </div>
</div>
