<div class="results-container">

  <h1>Výsledky ankety</h1>


  <div *ngFor="let q of pollData.questions; let i = index" class="question-block">
    <p class="question-text">{{ i + 1 }}. {{ q.text }}</p>

    <ul class="options-list">
      <li *ngFor="let opt of q.options">
        {{ opt.text }} – {{ opt.votes ?? 0 }} hlasů ({{ getPercentage(opt.votes ?? 0) }})
      </li>
    </ul>
   
  </div>
   <p style="font-size: 20px; color: darkgreen"><b>Hlasovalo celkem: {{ pollData.totalVotes }}</b> </p>
  

  <div class="poll-actions">
    <!-- Tlačítko se zobrazí jen pokud anketa není smazaná -->

    <!-- Po smazání se zobrazí jen text -->
    <p *ngIf="isDeleted" class="deleted-info">Tato anketa byla smazána.</p>
  </div>

  <!-- Zde vložíte komponentu s tabulkou akcí -->
  <app-survey-actions
    [pollId]="pollData.id!" 
    [pollStatus]="pollData.status"
    (statusChanged)="onStatusChanged($event)"
  ></app-survey-actions>
</div>
<footer style="background-color: #fcd488; color: blue; padding: 20px; text-align: center; font-family: Arial, sans-serif;">
   <div>
    Máte dotaz? <a href="mailto:knichalova@seznam.cz" style="color: blue; text-decoration: underline; font-weight: bold;">Napište nám</a>
  </div>
  <div style="margin-bottom: 10px;">
    &copy; 2026 <a href="https://www.anketa-zdarma.cz" style="color: blue; text-decoration: none;">www.anketa-zdarma.cz</a>
  </div>
 
</footer>
